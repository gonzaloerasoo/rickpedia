<section class="section-header">
  <h2>Localizaciones</h2>
  <p>Explora los mundos y dimensiones del universo de Rick y Morty.</p>
</section>

<div class="filter-toggle">
  <button (click)="showFilterPanel = true">
    <span class="material-icons">tune</span> Filtros
  </button>
</div>

<div class="filter-panel" *ngIf="showFilterPanel">
  <div class="panel-header">
    <h3>Filtros</h3>
    <button (click)="showFilterPanel = false">
      <span class="material-icons">close</span> Cerrar
    </button>
  </div>

  <div class="panel-body">
    <mat-form-field
      appearance="fill"
      color="accent"
      class="name-field"
      style="--mdc-filled-text-field-container-color: #121212; width: 100%"
    >
      <mat-label *ngIf="!showNameOverlay">Nombre de la localización</mat-label>
      <input
        matInput
        [formControl]="locationName"
        (focus)="onNameFocus()"
        (blur)="onNameBlur()"
        (keyup.enter)="filterLocationsByName()"
        style="color: white; caret-color: white"
      />
      <div class="static-text" *ngIf="showNameOverlay">
        Nombre de la localización
      </div>
    </mat-form-field>

    <mat-form-field
      appearance="fill"
      color="accent"
      class="name-field"
      style="--mdc-filled-text-field-container-color: #121212; width: 100%"
    >
      <mat-label *ngIf="!showCharacterOverlay">Nombre de personaje</mat-label>
      <input
        matInput
        [formControl]="characterName"
        (focus)="onCharacterFocus()"
        (blur)="onCharacterBlur()"
        (keyup.enter)="filterLocationsByCharacter()"
        style="color: white; caret-color: white"
      />
      <div class="static-text" *ngIf="showCharacterOverlay">
        Nombre de personaje
      </div>
    </mat-form-field>
  </div>
</div>

<div class="card-grid">
  <a
    class="character-card episode-link"
    *ngFor="let loc of filteredLocations"
    [routerLink]="['/locations', loc.id]"
  >
    <div class="card-content">
      <h3 class="name">{{ loc.name }}</h3>
      <p class="meta">{{ loc.type }} — {{ loc.dimension }}</p>
    </div>
  </a>
</div>
